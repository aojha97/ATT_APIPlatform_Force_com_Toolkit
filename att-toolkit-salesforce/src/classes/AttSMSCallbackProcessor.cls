/**
 * @description Parses server request body, encapsulate message details, and provides abstract method for message processing.
 */
public abstract class AttSMSCallbackProcessor {
	
	protected AttSMSRecord smsRecord;
	
	/**
	 * @description Creates new instance of AttSMSCallbackProcessor which encapsulates message details as protected property.
	 * @param requestBody String representaion of server http request body in JSON format.
	 */
	public AttSMSCallbackProcessor(String requestBody) {
		String request = requestBody.replace('DateTime','MsgDateTime');
		smsRecord = (AttSMSRecord)System.Json.deserialize(request,AttSMSRecord.class);
	}
	
	/**
	 * @description Represents specific message processing method. Should be implemented in subclasses.
	 */
	public abstract void processMessage();
	
	/**
	 * @description Encapsulates information about received message.
	 */
	public class AttSMSRecord {
		/**
		 * @description Specifies the AT&T mobile destination number of the message with prefix 'tel:'.
		 */
        public String SenderAddress { get; set; }
        
        /**
		 * @description Specifies the short code to which the message is destined.
		 */
        public String DestinationAddress { get; set; }
        
        /**
		 * @description Specifies the unique identifier generated by the AT&T system for the received message.
		 */
        public String MessageId { get; set; }
        
        /**
		 * @description Specifies the text message that the end user sends.
		 */
        public String Message { get; set; }
        
        /**
		 * @description Specifies the time and date on which the message is received, such as 04-15-2011T12:00:00.
		 */
        public String MsgDateTime { get; set; }
	}
}